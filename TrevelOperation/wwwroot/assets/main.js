let i=null;const o="docuqa-theme-preference",n="forest-dark",h="light",a={initialize:function(e,t=n){i=e;const r=localStorage.getItem(o)||t;this.applyThemeWithoutAnimation(r),this.listenForSystemPreferenceChanges(),i&&i.invokeMethodAsync("NotifyThemeChanged",r)},getCurrentTheme:function(){return document.documentElement.getAttribute("data-theme")||n},setTheme:function(e){if(e!==n&&e!==h){console.error(`Invalid theme: ${e}. Must be 'dark' or 'light'`);return}this.getCurrentTheme()!==e&&(this.applyThemeWithAnimation(e),localStorage.setItem(o,e),i&&i.invokeMethodAsync("NotifyThemeChanged",e))},toggleTheme:function(){const t=this.getCurrentTheme()===n?h:n;this.setTheme(t)},applyThemeWithAnimation:function(e){document.documentElement.setAttribute("data-theme",e)},applyThemeWithoutAnimation:function(e){document.documentElement.setAttribute("data-theme",e)},listenForSystemPreferenceChanges:function(){if(window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)");if(!localStorage.getItem(o)){const t=e.matches?n:h;this.applyThemeWithoutAnimation(t)}e.addEventListener("change",t=>{if(!localStorage.getItem(o)){const m=t.matches?n:h;this.applyThemeWithAnimation(m)}})}}};window.themeManager=a;window.themeManager=a;
